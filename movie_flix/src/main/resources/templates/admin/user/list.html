<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/admin/layout/admin-layout}"
      th:with="activeMenuItem='User'">
<head>
    <title th:text="${title}">Danh sách Người dùng</title>
</head>

<body>
<th:block th:fragment="userListBody">
    <tr th:each="user : ${userPage.content}">
        <td class="text-center" th:text="${user.id}"></td>
        <td class="text-center" th:text="${user.email}"></td>
        <td class="text-center" th:text="${user.role.name}"></td>
        <td class="d-flex justify-content-center gap-2">
            <a th:href="@{/admin/user/{id}(id=${user.id})}" class="btn btn-info btn-sm text-white">Xem <i
                    class="fas fa-eye ms-2"></i></a>
        </td>
    </tr>
    <tr th:if="${userPage.empty}">
        <td th:attr="colspan=${#lists.size(columns) + 1}" class="text-center">Không tìm thấy kết quả nào</td>
    </tr>
</th:block>

<div layout:fragment="content">

    <div class="page-header">
        <h3 class="fw-bold mb-3" th:text="${title}"></h3>
    </div>

    <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="fas fa-check"></i>
        [[${successMessage}]]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <div class="mt-5" th:replace="~{/admin/fragment/component/data_table :: data-table(
                page=${userPage},
                sort=${sort},
                keyword=${keyword},
                listUrl='/admin/user',
                baseUrl='/admin/user',
                searchPlaceholder='Tìm kiếm theo email...',
                columns=${columns},
                bodyFragment=~{::userListBody}
            )}">
    </div>
</div>
</body>
</html>